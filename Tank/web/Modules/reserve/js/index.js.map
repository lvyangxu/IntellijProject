{"version":3,"sources":["index.es6"],"names":[],"mappings":";;;;;AAGA,IAAI,eAAe,EAAnB;AACA,IAAI,eAAe,SAAf,YAAe,CAAC,CAAD,EAAK;AACpB,mBAAe,CAAf;AACH,CAFD;;AAIA;;AAEI,MAAE,cAAF,EAAkB,QAAlB,CAA2B,EAA3B,EAA8B,OAA9B,EAAsC,YAAY;AAC9C,YAAI,QAAQ,EAAE,cAAF,EAAkB,GAAlB,EAAZ;AACA,YAAI,QAAQ,cAAZ;AACA,YAAG,MAAM,KAAN,CAAY,KAAZ,KAAsB,IAAzB,EAA+B;AAC3B,cAAE,cAAF,EAAkB,GAAlB,CAAsB;AAClB,0BAAU;AADQ,aAAtB;AAGH,SAJD,MAIK;AACD,cAAE,cAAF,EAAkB,GAAlB,CAAsB;AAClB,0BAAU;AADQ,aAAtB;AAGH;AACJ,KAZD;;AAcA,MAAE,gBAAF,EAAoB,QAApB,CAA6B,EAA7B,EAAgC,OAAhC,EAAwC,YAAY;AAChD,YAAI,QAAQ,EAAE,cAAF,EAAkB,GAAlB,EAAZ;AACA,YAAI,QAAQ,cAAZ;;AAEA,YAAG,MAAM,KAAN,CAAY,KAAZ,KAAsB,IAAzB,EAA8B;AAC1B,kBAAM,kCAAN;AACA;AACH;AACD,YAAG,gBAAc,EAAjB,EAAoB;AAChB,kBAAM,qCAAN;AACA;AACH;;AAED,gBAAQ,IAAI,QAAJ,CAAa,KAAb,EAAoB,eAApB,GAAsC,KAA9C;AACA,uBAAe,IAAI,QAAJ,CAAa,YAAb,EAA2B,eAA3B,GAA6C,KAA5D;;AAEA,YAAI,cAAc,WAAW,KAAX,GAAiB,aAAjB,GAA+B,YAAjD;AACA,aAAK,cAAL,CAAoB,kBAApB,EAAwC,MAAxC,EAAgD,EAAhD,EAAoD,WAApD,EAAiE,kBAAS;AACtE,gBAAI,OAAO,IAAI,QAAJ,CAAa,MAAb,EAAqB,MAArB,EAAX;AACA,gBAAI,KAAK,OAAL,IAAgB,MAApB,EAA4B;AACxB,kBAAE,SAAF,EAAa,IAAb,CAAkB,iCAAlB;AACH,aAFD,MAEK;AACD,oBAAG,KAAK,OAAL,IAAgB,UAAnB,EAA8B;AAC1B,sBAAE,SAAF,EAAa,IAAb,CAAkB,SAAlB;AACH,iBAFD,MAEK;AACD,0BAAM,UAAQ,KAAK,OAAnB;AACH;AAEJ;AACJ,SAZD,EAYG,kBAAS;AACR,kBAAM,eAAN;AACH,SAdD;AAeH,KAhCD;AAiCH","file":"index.js","sourcesContent":["/**\r\n * Created by karl on 2016/7/22.\r\n */\r\nlet recaptchaStr = \"\";\r\nlet setRecaptcha = (d)=>{\r\n    recaptchaStr = d;\r\n}\r\n\r\n{\r\n    \r\n    $(\".input input\").delegate(\"\",\"input\",function () {\r\n        let email = $(\".input input\").val();\r\n        let regex = /[^@]+@.+\\..+/;\r\n        if(email.match(regex) == null) {\r\n            $(\".input input\").css({\r\n                \"border\": \"1px solid red\"\r\n            });\r\n        }else{\r\n            $(\".input input\").css({\r\n                \"border\": \"1px solid transparent\"\r\n            });\r\n        }\r\n    });\r\n\r\n    $(\".button button\").delegate(\"\",\"click\",function () {\r\n        let email = $(\".input input\").val();\r\n        let regex = /[^@]+@.+\\..+/;\r\n\r\n        if(email.match(regex) == null){\r\n            alert(\"your email format is not correct\");\r\n            return;\r\n        }\r\n        if(recaptchaStr==\"\"){\r\n            alert(\"please complete the recaptcha first\");\r\n            return;\r\n        }\r\n\r\n        email = new myString(email).base64UrlEncode().value;\r\n        recaptchaStr = new myString(recaptchaStr).base64UrlEncode().value;\r\n\r\n        let requestData = \"email=\" + email+\"&recaptcha=\"+recaptchaStr;\r\n        http.doAjaxInJquery(\"../Reserve/Check\", \"post\", 30, requestData, result=> {\r\n            let json = new myString(result).toJson();\r\n            if (json.success == \"true\") {\r\n                $(\".result\").html(\"您已经成功预约，asfasfajsfjaksfjasfajsf\");\r\n            }else{\r\n                if(json.message == \"reserved\"){\r\n                    $(\".result\").html(\"您已经预约过了\");\r\n                }else{\r\n                    alert(\"预约失败:\"+json.message);\r\n                }\r\n\r\n            }\r\n        }, result=> {\r\n            alert(\"network error\");\r\n        });\r\n    });\r\n}\r\n\r\n"]}