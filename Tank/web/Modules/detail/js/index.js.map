{"version":3,"sources":["index.es6"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * Created by karl on 2016/7/25.\r\n */\r\n{\r\n    if (window.location.href.indexOf(\"?name=\") != -1) {\r\n        let regex = /\\?name=.*/g;\r\n        let name = window.location.href.match(regex)[0];\r\n        name = name.replace(/\\?name=/g, \"\");\r\n\r\n        //draw svg\r\n        let w = $(window).width();\r\n        let pointArr = [{\"x\": 210, \"y\": 0}, {\"x\": 190, \"y\": 30}, {\"x\": 277, \"y\": 0}];\r\n        if (w < 1330) {\r\n            pointArr = pointArr.map(d=> {\r\n                d.x = (d.x * w / 1330).toFixed(2);\r\n                d.y = (d.y * w / 1330).toFixed(2);\r\n                return d;\r\n            });\r\n        }\r\n        $(\".left\").children(\".bottomImage\").html(()=> {\r\n            let pathHtml = pointArr.map(d=> {\r\n                d = \"L\" + d.x + \" \" + d.y + \" \";\r\n                return d;\r\n            }).join(\"\");\r\n            pathHtml = \"M\" + pathHtml.substr(1);\r\n            let svgHtml = \"<svg><path d='\" + pathHtml + \"'/></svg>\";\r\n            return svgHtml;\r\n        });\r\n\r\n        //load data\r\n        http.doAjaxInJquery(\"../Table/article/Read\", \"post\", 30, \"name=\" + name, result=> {\r\n            let json = new myString(result).toJson();\r\n            if (json.success == \"true\") {\r\n                let data = json.message;\r\n\r\n                //set left data\r\n                $(\".left\").children(\".list\").children(\".more\").before(()=> {\r\n                    let rowNameArr = [\"news1\", \"news2\", \"activity1\", \"activity2\"];\r\n                    let leftHtml = rowNameArr.map(d=> {\r\n                        let row = data.find(d1=> {\r\n                            return d1.name == d;\r\n                        });\r\n                        let rowHtml = \"<a href='?name=\" + d + \"'>\" + row.title + \"</a>\";\r\n                        rowHtml = \"<div class='row'>\" + rowHtml + \"</div>\";\r\n                        return rowHtml;\r\n                    }).join(\"\");\r\n                    return leftHtml;\r\n                });\r\n\r\n                //set right data\r\n                $(\".right\").html(()=> {\r\n                    let d = data.find(d=> {\r\n                        return d.name == name;\r\n                    });\r\n                    if(d==undefined){\r\n                        return;\r\n                    }\r\n\r\n                    let rowHtml = \"<div class='title'>\" + d.title + \"</div>\";\r\n                    rowHtml += \"<div class='line'></div>\";\r\n                    //replace img html\r\n                    let regex = /\\{img:[^{}]+}/g;\r\n                    let content = d.content;\r\n                    let matchArr = content.match(regex);\r\n                    if(matchArr!=null){\r\n                        matchArr.map(d=> {\r\n                            d = d.replace(\"{img:\", \"\").replace(\"}\", \"\");\r\n                            d = \"<div class='detail-img'><img src='../detail/image/\" + d + \"'></div>\";\r\n                            return d;\r\n                        }).forEach(d=>{\r\n                            content = content.replace(/\\{img:[^{}]+}/,d);\r\n                        });\r\n                    }\r\n\r\n                    rowHtml += \"<div class='content'>\" + content + \"</div>\";\r\n                    return rowHtml;\r\n                });\r\n            }\r\n        }, result=> {\r\n            alert(\"network error:\" + result);\r\n        });\r\n    }\r\n\r\n\r\n}"]}